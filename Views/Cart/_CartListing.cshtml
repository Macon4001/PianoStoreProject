@model IEnumerable<PianoStoreProject.Models.ShoppingCartItemsViewModel>
@using PianoStoreProject.Repositories
@inject ICartRepository CartProvider
<div class="row">
	<table class="table table-bordered">
		<thead>
			<tr class="main-hading">
				<th>PRODUCT</th>
				<th>NAME</th>
				<th class="text-center">PRICE</th>
				<th class="text-center">QUANTITY</th>
				<th class="text-center">TOTAL PRICE</th>
				<th class="text-center">ACTION</th>
			</tr>
		</thead>
		<tbody>
			@foreach (var item in Model)
			{
				<tr>
					<td class="image" data-title="No"><img src="@item.ProductImage" style="width:80px" alt="@item.ProductName"></td>
					<td class="product-des" data-title="Description">
						<p class="product-name"><a href="/Product/Detail?Id=@item.Id">@item.ProductName</a></p>
						<p class="product-des">Category: @item.Category</p>
					</td>
					<td class="price" data-title="Price"><span>£ @item.Price </span></td>
					<td class="qty" data-title="Qty"><span>@item.Quantity </span></td>
					<td class="total-amount" data-title="Total"><span>£ @item.SubTotal</span></td>
					<td class="action" data-title="Remove">
						<a href="/Product/Detail?Id=@item.ProductId" title="View Product"><i class="fa fa-bars" aria-hidden="true"></i></a> |
						<a href="Javascript:void(0);" title="Remove Product" onclick="Cart.initDeleteCart('@item.Id');"><i class="fa fa-trash" aria-hidden="true"></i></a>
					</td>
				</tr>
			}
		</tbody>
		<tfoot>
			<tr>
				<th colspan="3" class="text-right"></th>
				<th>Sub Total</th>
				<td>£ @ViewBag.Total </td>
				<td></td>
			</tr>
			<tr>
				<th colspan="3" class="text-right"></th>
				<th>Shipping Charges</th>
				<td>£ 0</td>
				<td></td>
			</tr>
			<tr>
				<th colspan="3" class="text-right"></th>
				<th>Total Amount</th>
				<td>£ @ViewBag.Total </td>
				<td></td>
			</tr>
			<tr>
				<th colspan="3" class="text-right"></th>
				<th colspan="2">
					@if (User.Identity.IsAuthenticated)
					{
						<a class="checkout" href="/Cart/Checkout">
							Checkout
						</a>
					}
					else
					{
						<a class="checkout" asp-area="Identity" asp-page="/Account/Login">
							Checkout
						</a>
						
					}

				</th>
				<td></td>
			</tr>
		</tfoot>
	</table>
	<!--/ End Shopping Summery -->

</div>